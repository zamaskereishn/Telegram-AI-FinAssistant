2025-11-14 10:26:14 | INFO     | __main__:main:57 - ======================================================================
2025-11-14 10:26:14 | INFO     | __main__:main:58 - ğŸ¤– Ğ¤Ğ˜ĞĞĞĞ¡ĞĞ’Ğ«Ğ™ Ğ”ĞĞ™Ğ”Ğ–Ğ•Ğ¡Ğ¢-Ğ‘ĞĞ¢
2025-11-14 10:26:14 | INFO     | __main__:main:59 - ======================================================================
2025-11-14 10:26:14 | INFO     | __main__:main:60 - 
2025-11-14 10:26:14 | INFO     | __main__:main:63 - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸...
2025-11-14 10:26:14 | SUCCESS  | __main__:main:68 - âœ“ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ°
2025-11-14 10:26:14 | INFO     | __main__:main:69 - 
2025-11-14 10:26:14 | INFO     | __main__:main:72 - ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:
2025-11-14 10:26:14 | INFO     | __main__:main:73 -   Timezone: Asia/Almaty
2025-11-14 10:26:14 | INFO     | __main__:main:74 -   Ğ’Ñ€ĞµĞ¼Ñ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸: 09:00
2025-11-14 10:26:14 | INFO     | __main__:main:75 -   Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹: 4
2025-11-14 10:26:14 | INFO     | __main__:main:76 -   Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ²Ğ°Ğ»ÑÑ‚: 16
2025-11-14 10:26:14 | INFO     | __main__:main:77 -   ĞĞ´Ğ¼Ğ¸Ğ½Ğ¾Ğ²: 1
2025-11-14 10:26:14 | INFO     | __main__:main:78 -   Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: db:5432/finbot_db
2025-11-14 10:26:14 | INFO     | __main__:main:79 -   OpenAI Model: gpt-4o
2025-11-14 10:26:14 | INFO     | __main__:main:80 - 
2025-11-14 10:26:14 | INFO     | __main__:main:83 - Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…...
2025-11-14 10:26:14 | INFO     | database:init_db:190 - Connecting to database: db:5432/finbot_db
2025-11-14 10:26:14 | SUCCESS  | database:init_db:202 - âœ… Database tables created/verified
2025-11-14 10:26:14 | ERROR    | database:init_db:216 - âŒ Database initialization error: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-11-14 10:26:14 | ERROR    | __main__:main:96 - ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ‘Ğ”: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-11-14 10:26:14 | ERROR    | __main__:main:97 - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ DATABASE_URL Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ PostgreSQL
2025-11-14 10:28:53 | INFO     | __main__:main:57 - ======================================================================
2025-11-14 10:28:53 | INFO     | __main__:main:58 - ğŸ¤– Ğ¤Ğ˜ĞĞĞĞ¡ĞĞ’Ğ«Ğ™ Ğ”ĞĞ™Ğ”Ğ–Ğ•Ğ¡Ğ¢-Ğ‘ĞĞ¢
2025-11-14 10:28:53 | INFO     | __main__:main:59 - ======================================================================
2025-11-14 10:28:53 | INFO     | __main__:main:60 - 
2025-11-14 10:28:53 | INFO     | __main__:main:63 - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸...
2025-11-14 10:28:53 | SUCCESS  | __main__:main:68 - âœ“ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ°
2025-11-14 10:28:53 | INFO     | __main__:main:69 - 
2025-11-14 10:28:53 | INFO     | __main__:main:72 - ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:
2025-11-14 10:28:53 | INFO     | __main__:main:73 -   Timezone: Asia/Almaty
2025-11-14 10:28:53 | INFO     | __main__:main:74 -   Ğ’Ñ€ĞµĞ¼Ñ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸: 09:00
2025-11-14 10:28:53 | INFO     | __main__:main:75 -   Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹: 4
2025-11-14 10:28:53 | INFO     | __main__:main:76 -   Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ²Ğ°Ğ»ÑÑ‚: 16
2025-11-14 10:28:53 | INFO     | __main__:main:77 -   ĞĞ´Ğ¼Ğ¸Ğ½Ğ¾Ğ²: 1
2025-11-14 10:28:53 | INFO     | __main__:main:78 -   Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: db:5432/finbot_db
2025-11-14 10:28:53 | INFO     | __main__:main:79 -   OpenAI Model: gpt-4o
2025-11-14 10:28:53 | INFO     | __main__:main:80 - 
2025-11-14 10:28:53 | INFO     | __main__:main:83 - Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…...
2025-11-14 10:28:53 | INFO     | database:init_db:191 - Connecting to database: db:5432/finbot_db
2025-11-14 10:28:53 | SUCCESS  | database:init_db:203 - âœ… Database tables created/verified
2025-11-14 10:28:53 | SUCCESS  | database:init_db:213 - âœ… Database connection verified
2025-11-14 10:28:53 | SUCCESS  | __main__:main:92 - âœ“ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° (Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹: 0)
2025-11-14 10:28:53 | INFO     | __main__:main:100 - 
2025-11-14 10:28:53 | INFO     | __main__:main:103 - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° OpenAI API...
2025-11-14 10:28:55 | SUCCESS  | __main__:main:116 - âœ“ OpenAI API Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
2025-11-14 10:28:55 | INFO     | __main__:main:124 - 
2025-11-14 10:28:55 | INFO     | __main__:main:125 - ======================================================================
2025-11-14 10:28:55 | INFO     | __main__:main:126 - ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Telegram Ğ±Ğ¾Ñ‚Ğ°...
2025-11-14 10:28:55 | INFO     | __main__:main:127 - ======================================================================
2025-11-14 10:28:55 | INFO     | __main__:main:128 - 
2025-11-14 10:28:55 | INFO     | bot:run_bot:503 - ======================================================================
2025-11-14 10:28:55 | INFO     | bot:run_bot:504 - ğŸ¤– STARTING FINANCIAL DIGEST BOT
2025-11-14 10:28:55 | INFO     | bot:run_bot:505 - ======================================================================
2025-11-14 10:28:55 | INFO     | bot:run_bot:507 - Step 1: Initializing database...
2025-11-14 10:28:55 | INFO     | database:init_db:191 - Connecting to database: db:5432/finbot_db
2025-11-14 10:28:55 | SUCCESS  | database:init_db:203 - âœ… Database tables created/verified
2025-11-14 10:28:55 | SUCCESS  | database:init_db:213 - âœ… Database connection verified
2025-11-14 10:28:55 | INFO     | bot:run_bot:509 - âœ… Database initialized
2025-11-14 10:28:55 | INFO     | bot:run_bot:511 - Step 2: Building application...
2025-11-14 10:28:55 | INFO     | bot:run_bot:513 - âœ… Application built
2025-11-14 10:28:55 | INFO     | bot:run_bot:516 - Step 3: Registering error handler...
2025-11-14 10:28:55 | INFO     | bot:run_bot:520 - Step 4: Adding update logger...
2025-11-14 10:28:55 | INFO     | bot:run_bot:525 - Step 5: Registering command handlers...
2025-11-14 10:28:55 | INFO     | bot:run_bot:533 -   âœ… Registered 7 command handlers
2025-11-14 10:28:55 | INFO     | bot:run_bot:536 - Step 6: Registering callback handlers...
2025-11-14 10:28:55 | INFO     | bot:run_bot:541 -   âœ… Registered specialized callback handlers
2025-11-14 10:28:55 | INFO     | bot:run_bot:545 -   âœ… Registered catch-all callback handler
2025-11-14 10:28:55 | INFO     | bot:run_bot:548 - Step 7: Registering message handler...
2025-11-14 10:28:55 | INFO     | bot:run_bot:550 -   âœ… Registered chat handler
2025-11-14 10:28:55 | INFO     | bot:run_bot:553 - Step 8: Setting up job queue...
2025-11-14 10:28:55 | INFO     | bot:run_bot:559 -   âœ… Job scheduled for 09:00 Asia/Almaty
2025-11-14 10:28:55 | INFO     | bot:run_bot:562 - Step 9: Setting bot commands...
2025-11-14 10:28:55 | INFO     | bot:set_bot_commands:437 - Setting bot commands...
2025-11-14 10:28:56 | INFO     | bot:set_bot_commands:448 - âœ… Bot commands set
2025-11-14 10:28:56 | INFO     | bot:run_bot:566 - ======================================================================
2025-11-14 10:28:56 | INFO     | bot:run_bot:567 - ğŸš€ Bot started (polling)...
2025-11-14 10:28:56 | INFO     | bot:run_bot:568 - Waiting for updates from Telegram...
2025-11-14 10:28:56 | INFO     | bot:run_bot:569 - ======================================================================
2025-11-14 10:29:39 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 29, 25, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=62, supergroup_chat_created=False, text='/start'), update_id=751877385)
2025-11-14 10:29:39 | INFO     | bot:log_update:34 -   â””â”€ Message: /start
2025-11-14 10:29:39 | INFO     | bot:start:40 - ğŸ¬ start command called
2025-11-14 10:29:45 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 29, 31, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=8, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=64, supergroup_chat_created=False, text='/compare'), update_id=751877386)
2025-11-14 10:29:45 | INFO     | bot:log_update:34 -   â””â”€ Message: /compare
2025-11-14 10:29:45 | INFO     | bot:compare_command:93 - ğŸ“ˆ compare_command called
2025-11-14 10:29:52 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 29, 38, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=66, supergroup_chat_created=False, text='/invest'), update_id=751877387)
2025-11-14 10:29:52 | INFO     | bot:log_update:34 -   â””â”€ Message: /invest
2025-11-14 10:29:52 | INFO     | bot:invest_command:72 - ğŸ’° invest_command called
2025-11-14 10:29:58 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='invest_compare', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585197697969303', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 29, 38, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=67, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='invest_full', text='ğŸ¯ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·'), InlineKeyboardButton(callback_data='invest_compare', text='ğŸ“Š Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹')), (InlineKeyboardButton(callback_data='invest_global', text='ğŸŒ ĞœĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ€Ñ‹Ğ½ĞºĞ¸'), InlineKeyboardButton(callback_data='invest_profile', text='âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ')))), supergroup_chat_created=False, text='ğŸ’¼ Ğ˜ĞĞ’Ğ•Ğ¡Ğ¢Ğ˜Ğ¦Ğ˜ĞĞĞĞ«Ğ™ ĞĞĞĞ›Ğ˜Ğ—\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ñ:')), update_id=751877388)
2025-11-14 10:29:58 | INFO     | bot:log_update:36 -   â””â”€ Callback: invest_compare
2025-11-14 10:29:59 | INFO     | bot:investment_callback_handler:170 - Investment callback: invest_compare
2025-11-14 10:30:03 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 29, 48, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=68, supergroup_chat_created=False, text='/invest'), update_id=751877389)
2025-11-14 10:30:03 | INFO     | bot:log_update:34 -   â””â”€ Message: /invest
2025-11-14 10:30:03 | INFO     | bot:invest_command:72 - ğŸ’° invest_command called
2025-11-14 10:30:04 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='invest_global', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585198130138765', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 29, 49, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=69, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='invest_full', text='ğŸ¯ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·'), InlineKeyboardButton(callback_data='invest_compare', text='ğŸ“Š Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹')), (InlineKeyboardButton(callback_data='invest_global', text='ğŸŒ ĞœĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ€Ñ‹Ğ½ĞºĞ¸'), InlineKeyboardButton(callback_data='invest_profile', text='âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ')))), supergroup_chat_created=False, text='ğŸ’¼ Ğ˜ĞĞ’Ğ•Ğ¡Ğ¢Ğ˜Ğ¦Ğ˜ĞĞĞĞ«Ğ™ ĞĞĞĞ›Ğ˜Ğ—\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ñ:')), update_id=751877390)
2025-11-14 10:30:04 | INFO     | bot:log_update:36 -   â””â”€ Callback: invest_global
2025-11-14 10:30:04 | INFO     | bot:investment_callback_handler:170 - Investment callback: invest_global
2025-11-14 10:30:05 | INFO     | investment_analyzer:get_international_outlook:461 - Analyzing international markets
2025-11-14 10:30:05 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/rates-bonds/world-government-bonds
2025-11-14 10:30:09 | INFO     | scraper:scrape_many:70 - Scraping https://finance.yahoo.com/bonds
2025-11-14 10:30:11 | INFO     | scraper:scrape_many:70 - Scraping https://www.bloomberg.com/markets/rates-bonds
2025-11-14 10:30:16 | ERROR    | scraper:_make_request:27 - Failed https://www.bloomberg.com/markets/rates-bonds: 403 Client Error: Forbidden for url: https://www.bloomberg.com/markets/rates-bonds
2025-11-14 10:30:17 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/commodities/gold
2025-11-14 10:30:20 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/currencies/usd-kzt
2025-11-14 10:32:16 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 32, 2, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=71, supergroup_chat_created=False, text='/digest'), update_id=751877391)
2025-11-14 10:32:16 | INFO     | bot:log_update:34 -   â””â”€ Message: /digest
2025-11-14 10:32:16 | INFO     | bot:digest_command:53 - ğŸ“Š digest_command called
2025-11-14 10:32:16 | INFO     | bot:digest_command:67 - âœ… Keyboard sent, message_id: 72
2025-11-14 10:32:19 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='digest_forex', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585195052781744', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 32, 2, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=72, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='digest_macro', text='ğŸ’° ĞœĞ°ĞºÑ€Ğ¾ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°'), InlineKeyboardButton(callback_data='digest_forex', text='ğŸ’¹ Ğ’Ğ°Ğ»ÑÑ‚Ñ‹')), (InlineKeyboardButton(callback_data='digest_commodities', text='ğŸ›¢ ĞĞµÑ„Ñ‚ÑŒ Ğ¸ ÑÑ‹Ñ€ÑŒÑ‘'), InlineKeyboardButton(callback_data='digest_banks', text='ğŸ¦ Ğ‘Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğ¹ ÑĞµĞºÑ‚Ğ¾Ñ€')), (InlineKeyboardButton(callback_data='digest_all', text='ğŸ“Š Ğ’ÑĞµ Ñ‚ĞµĞ¼Ñ‹'),))), supergroup_chat_created=False, text='Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ´Ğ°Ğ¹Ğ´Ğ¶ĞµÑÑ‚Ğ°:')), update_id=751877392)
2025-11-14 10:32:19 | INFO     | bot:log_update:36 -   â””â”€ Callback: digest_forex
2025-11-14 10:32:19 | INFO     | bot:digest_category_selected:130 - ğŸ¯ digest_category_selected TRIGGERED!
2025-11-14 10:32:19 | INFO     | bot:digest_category_selected:133 -   â””â”€ Callback data: digest_forex
2025-11-14 10:32:19 | INFO     | bot:digest_category_selected:134 -   â””â”€ User: 560792441 (@kere1shn)
2025-11-14 10:32:19 | INFO     | bot:digest_category_selected:137 -   â””â”€ Query answered
2025-11-14 10:32:19 | INFO     | bot:digest_category_selected:141 -   â””â”€ Processing category: forex
2025-11-14 10:32:19 | INFO     | bot:digest_category_selected:145 -   â””â”€ Status message sent
2025-11-14 10:32:19 | INFO     | bot:digest_category_selected:149 -   â””â”€ Starting digest generation for: forex
2025-11-14 10:32:19 | INFO     | bot:generate_digest:323 - ğŸ”§ generate_digest called with category: forex
2025-11-14 10:32:19 | INFO     | bot:generate_digest:380 - Generating digest for category: forex, URLs: 16
2025-11-14 10:32:19 | INFO     | scraper:scrape_many:70 - Scraping https://ifin.kz/exchange/astana
2025-11-14 10:32:22 | INFO     | scraper:scrape_many:70 - Scraping https://altynbank.kz/ru/personal/exchange
2025-11-14 10:32:23 | INFO     | scraper:scrape_many:70 - Scraping https://alataucitybank.kz/exchange-rates
2025-11-14 10:32:26 | INFO     | scraper:scrape_many:70 - Scraping https://bankffin.kz/ru/exchange-rates
2025-11-14 10:32:29 | INFO     | scraper:scrape_many:70 - Scraping https://nurbank.kz/ru/bank/currencies/
2025-11-14 10:32:30 | INFO     | scraper:scrape_many:70 - Scraping https://bankrbk.kz/ru/exchange
2025-11-14 10:32:32 | INFO     | scraper:scrape_many:70 - Scraping https://home.kz/currency/kurs-segodnya-astana
2025-11-14 10:32:33 | INFO     | scraper:scrape_many:70 - Scraping https://eubank.kz/exchange-rates/
2025-11-14 10:32:36 | INFO     | scraper:scrape_many:70 - Scraping https://prodengi.kz/astana/kurs-valyut
2025-11-14 10:32:38 | INFO     | scraper:scrape_many:70 - Scraping https://nationalbank.kz/ru/exchangerates/ezhednevnye-oficialnye-rynochnye-kursy-valyut
2025-11-14 10:32:39 | INFO     | scraper:scrape_many:70 - Scraping https://www.exchange-rates.org/ru/
2025-11-14 10:32:42 | INFO     | scraper:scrape_many:70 - Scraping https://kurs.kz/site/index?city=astana
2025-11-14 10:32:43 | INFO     | scraper:scrape_many:70 - Scraping https://www.bcc.kz/personal/currency-rates/
2025-11-14 10:32:49 | INFO     | scraper:scrape_many:70 - Scraping https://guide.kaspi.kz/client/ru/transfers/services/own_accounts/q1954
2025-11-14 10:32:50 | INFO     | scraper:scrape_many:70 - Scraping https://bank.forte.kz/ru/forex
2025-11-14 10:32:52 | INFO     | scraper:scrape_many:70 - Scraping https://halykbank.kz/exchange-rates
2025-11-14 10:32:54 | INFO     | bot:generate_digest:384 - âœ… Scraped 16 articles
2025-11-14 10:35:02 | INFO     | bot:generate_digest:398 - âœ… Generated 32 summaries
2025-11-14 10:35:02 | INFO     | llm:aggregate_summaries:116 - Aggregating summaries for category: forex
2025-11-14 10:35:15 | INFO     | bot:generate_digest:405 - âœ… aggregate done
2025-11-14 10:35:15 | INFO     | bot:digest_category_selected:151 -   â””â”€ Digest generated, length: 2298
2025-11-14 10:35:16 | INFO     | bot:digest_category_selected:158 -   â””â”€ Sent 1 message chunks
2025-11-14 10:36:12 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 35, 57, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=8, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=74, supergroup_chat_created=False, text='/compare'), update_id=751877393)
2025-11-14 10:36:12 | INFO     | bot:log_update:34 -   â””â”€ Message: /compare
2025-11-14 10:36:12 | INFO     | bot:compare_command:93 - ğŸ“ˆ compare_command called
2025-11-14 10:36:15 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_deposits', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585196073079537', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 35, 58, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=75, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='compare_deposits', text='ğŸ’³ Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹'), InlineKeyboardButton(callback_data='compare_bonds', text='ğŸ“œ ĞĞ±Ğ»Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸')), (InlineKeyboardButton(callback_data='compare_mutual_funds', text='ğŸ“Š ĞŸĞ˜Ğ¤Ñ‹'), InlineKeyboardButton(callback_data='compare_brokers', text='ğŸ¢ Ğ‘Ñ€Ğ¾ĞºĞµÑ€Ñ‹')))), supergroup_chat_created=False, text='ğŸ“Š Ğ¡Ğ ĞĞ’ĞĞ•ĞĞ˜Ğ• ĞŸĞ ĞĞ”Ğ£ĞšĞ¢ĞĞ’\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°:')), update_id=751877394)
2025-11-14 10:36:15 | INFO     | bot:log_update:36 -   â””â”€ Callback: compare_deposits
2025-11-14 10:36:15 | INFO     | bot:comparison_callback_handler:250 - Comparison callback: compare_deposits
2025-11-14 10:36:15 | INFO     | investment_analyzer:compare_products:409 - Comparing products: deposits
2025-11-14 10:36:15 | INFO     | investment_analyzer:scrape_investment_products:83 - Scraping investment products: deposits
2025-11-14 10:36:15 | INFO     | scraper:scrape_many:70 - Scraping https://nationalbank.kz/en/news/vklady-v-bankah-v-regionalnom-razreze-
2025-11-14 10:36:17 | INFO     | scraper:scrape_many:70 - Scraping https://kdif.kz/
2025-11-14 10:36:20 | INFO     | scraper:scrape_many:70 - Scraping https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 10:36:25 | ERROR    | scraper:_make_request:27 - Failed https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical: 404 Client Error: Not Found for url: https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 10:36:26 | INFO     | investment_analyzer:scrape_investment_products:99 - âœ… Scraped 2 investment sources
2025-11-14 10:36:26 | ERROR    | bot:comparison_callback_handler:272 - Error comparing products: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
Traceback (most recent call last):

  File "/app/main.py", line 146, in <module>
    main()
    â”” <function main at 0x7f4596703100>

  File "/app/main.py", line 133, in main
    run_bot()
    â”” <function run_bot at 0x7f45914a67a0>

  File "/app/bot.py", line 571, in run_bot
    app.run_polling(allowed_updates=Update.ALL_TYPES)
    â”‚   â”‚                           â”‚      â”” [<UpdateType.MESSAGE>, <UpdateType.EDITED_MESSAGE>, <UpdateType.CHANNEL_POST>, <UpdateType.EDITED_CHANNEL_POST>, <UpdateType....
    â”‚   â”‚                           â”” <class 'telegram._update.Update'>
    â”‚   â”” <function Application.run_polling at 0x7f45918827a0>
    â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]

  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1000, in __run
    loop.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7f459686b6a0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7f45968714e0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7f4597247880>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1170, in _update_fetcher
    await self.__process_update_wrapper(update)
          â”‚                             â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_deposits', from_user=User(first_name=...
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1182, in __process_update_wrapper
    await self._update_processor.process_update(update, self.process_update(update))
          â”‚    â”‚                                â”‚       â”‚    â”‚              â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_deposits', from_user=User(first_name=...
          â”‚    â”‚                                â”‚       â”‚    â”” <function Application.process_update at 0x7f4591882d40>
          â”‚    â”‚                                â”‚       â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
          â”‚    â”‚                                â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_deposits', from_user=User(first_name=...
          â”‚    â”” <member '_update_processor' of 'Application' objects>
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 151, in process_update
    await self.do_process_update(update, coroutine)
          â”‚    â”‚                 â”‚       â”” <coroutine object Application.process_update at 0x7f4591498cc0>
          â”‚    â”‚                 â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_deposits', from_user=User(first_name=...
          â”‚    â”” <function SimpleUpdateProcessor.do_process_update at 0x7f45918a80e0>
          â”” <telegram.ext._baseupdateprocessor.SimpleUpdateProcessor object at 0x7f45914c9390>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 176, in do_process_update
    await coroutine
          â”” <coroutine object Application.process_update at 0x7f4591498cc0>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
          â”” <coroutine object BaseHandler.handle_update at 0x7f4591521d40>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
                 â”‚    â”‚        â”‚       â”” <telegram.ext._callbackcontext.CallbackContext object at 0x7f458ba00280>
                 â”‚    â”‚        â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_deposits', from_user=User(first_name=...
                 â”‚    â”” <member 'callback' of 'BaseHandler' objects>
                 â”” CallbackQueryHandler[callback=comparison_callback_handler]

> File "/app/bot.py", line 267, in comparison_callback_handler
    result = await asyncio.to_thread(investment_analyzer.compare_products, product_type)
                   â”‚       â”‚         â”‚                   â”‚                 â”” 'deposits'
                   â”‚       â”‚         â”‚                   â”” <function InvestmentAnalyzer.compare_products at 0x7f45914a5b20>
                   â”‚       â”‚         â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>
                   â”‚       â”” <function to_thread at 0x7f4596886c00>
                   â”” <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>

  File "/usr/local/lib/python3.11/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
                 â”‚    â”‚                     â”” functools.partial(<built-in method run of _contextvars.Context object at 0x7f459045f780>, <bound method InvestmentAnalyzer.co...
                 â”‚    â”” <function BaseEventLoop.run_in_executor at 0x7f4596870040>
                 â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             â”‚        â”‚            â”” None
             â”‚        â”” None
             â”” None

  File "/app/investment_analyzer.py", line 420, in compare_products
    data = self.extract_investment_data(chunk, product_type)
           â”‚    â”‚                       â”‚      â”” 'deposits'
           â”‚    â”‚                       â”” 'Home\nStatistics\nMonetary and Banking Statistics\nDeposit market\nDeposits in Banks, regional breakdown\nDeposits in Banks,...
           â”‚    â”” <function InvestmentAnalyzer.extract_investment_data at 0x7f45914a5760>
           â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>

  File "/app/investment_analyzer.py", line 108, in extract_investment_data
    prompt = f"""

ValueError: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
2025-11-14 10:40:05 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 39, 51, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=8, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=77, supergroup_chat_created=False, text='/compare'), update_id=751877395)
2025-11-14 10:40:05 | INFO     | bot:log_update:34 -   â””â”€ Message: /compare
2025-11-14 10:40:05 | INFO     | bot:compare_command:93 - ğŸ“ˆ compare_command called
2025-11-14 10:40:09 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_mutual_funds', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585197442391198', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 39, 52, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=78, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='compare_deposits', text='ğŸ’³ Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹'), InlineKeyboardButton(callback_data='compare_bonds', text='ğŸ“œ ĞĞ±Ğ»Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸')), (InlineKeyboardButton(callback_data='compare_mutual_funds', text='ğŸ“Š ĞŸĞ˜Ğ¤Ñ‹'), InlineKeyboardButton(callback_data='compare_brokers', text='ğŸ¢ Ğ‘Ñ€Ğ¾ĞºĞµÑ€Ñ‹')))), supergroup_chat_created=False, text='ğŸ“Š Ğ¡Ğ ĞĞ’ĞĞ•ĞĞ˜Ğ• ĞŸĞ ĞĞ”Ğ£ĞšĞ¢ĞĞ’\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°:')), update_id=751877396)
2025-11-14 10:40:09 | INFO     | bot:log_update:36 -   â””â”€ Callback: compare_mutual_funds
2025-11-14 10:40:09 | INFO     | bot:comparison_callback_handler:250 - Comparison callback: compare_mutual_funds
2025-11-14 10:40:09 | INFO     | investment_analyzer:compare_products:409 - Comparing products: mutual_funds
2025-11-14 10:40:09 | INFO     | investment_analyzer:scrape_investment_products:83 - Scraping investment products: mutual_funds
2025-11-14 10:40:09 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/investment-fund-securities
2025-11-14 10:40:12 | INFO     | scraper:scrape_many:70 - Scraping https://halykfinance.kz/ipif/?lang=ru
2025-11-14 10:40:13 | INFO     | scraper:scrape_many:70 - Scraping https://www.bcc-invest.kz/products/open-pi/
2025-11-14 10:40:17 | ERROR    | scraper:_make_request:27 - Failed https://www.bcc-invest.kz/products/open-pi/: 404 Client Error: Page not found: /products/open-pi/ for url: https://www.bcc-invest.kz/products/open-pi/
2025-11-14 10:40:18 | INFO     | investment_analyzer:scrape_investment_products:99 - âœ… Scraped 2 investment sources
2025-11-14 10:40:18 | ERROR    | bot:comparison_callback_handler:272 - Error comparing products: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
Traceback (most recent call last):

  File "/app/main.py", line 146, in <module>
    main()
    â”” <function main at 0x7f4596703100>

  File "/app/main.py", line 133, in main
    run_bot()
    â”” <function run_bot at 0x7f45914a67a0>

  File "/app/bot.py", line 571, in run_bot
    app.run_polling(allowed_updates=Update.ALL_TYPES)
    â”‚   â”‚                           â”‚      â”” [<UpdateType.MESSAGE>, <UpdateType.EDITED_MESSAGE>, <UpdateType.CHANNEL_POST>, <UpdateType.EDITED_CHANNEL_POST>, <UpdateType....
    â”‚   â”‚                           â”” <class 'telegram._update.Update'>
    â”‚   â”” <function Application.run_polling at 0x7f45918827a0>
    â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]

  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1000, in __run
    loop.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7f459686b6a0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7f45968714e0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7f4597247880>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1170, in _update_fetcher
    await self.__process_update_wrapper(update)
          â”‚                             â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_mutual_funds', from_user=User(first_n...
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1182, in __process_update_wrapper
    await self._update_processor.process_update(update, self.process_update(update))
          â”‚    â”‚                                â”‚       â”‚    â”‚              â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_mutual_funds', from_user=User(first_n...
          â”‚    â”‚                                â”‚       â”‚    â”” <function Application.process_update at 0x7f4591882d40>
          â”‚    â”‚                                â”‚       â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
          â”‚    â”‚                                â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_mutual_funds', from_user=User(first_n...
          â”‚    â”” <member '_update_processor' of 'Application' objects>
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 151, in process_update
    await self.do_process_update(update, coroutine)
          â”‚    â”‚                 â”‚       â”” <coroutine object Application.process_update at 0x7f4591498cc0>
          â”‚    â”‚                 â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_mutual_funds', from_user=User(first_n...
          â”‚    â”” <function SimpleUpdateProcessor.do_process_update at 0x7f45918a80e0>
          â”” <telegram.ext._baseupdateprocessor.SimpleUpdateProcessor object at 0x7f45914c9390>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 176, in do_process_update
    await coroutine
          â”” <coroutine object Application.process_update at 0x7f4591498cc0>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
          â”” <coroutine object BaseHandler.handle_update at 0x7f4590ca5b40>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
                 â”‚    â”‚        â”‚       â”” <telegram.ext._callbackcontext.CallbackContext object at 0x7f458be1eb30>
                 â”‚    â”‚        â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_mutual_funds', from_user=User(first_n...
                 â”‚    â”” <member 'callback' of 'BaseHandler' objects>
                 â”” CallbackQueryHandler[callback=comparison_callback_handler]

> File "/app/bot.py", line 267, in comparison_callback_handler
    result = await asyncio.to_thread(investment_analyzer.compare_products, product_type)
                   â”‚       â”‚         â”‚                   â”‚                 â”” 'mutual_funds'
                   â”‚       â”‚         â”‚                   â”” <function InvestmentAnalyzer.compare_products at 0x7f45914a5b20>
                   â”‚       â”‚         â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>
                   â”‚       â”” <function to_thread at 0x7f4596886c00>
                   â”” <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>

  File "/usr/local/lib/python3.11/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
                 â”‚    â”‚                     â”” functools.partial(<built-in method run of _contextvars.Context object at 0x7f458b202ec0>, <bound method InvestmentAnalyzer.co...
                 â”‚    â”” <function BaseEventLoop.run_in_executor at 0x7f4596870040>
                 â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             â”‚        â”‚            â”” None
             â”‚        â”” None
             â”” None

  File "/app/investment_analyzer.py", line 420, in compare_products
    data = self.extract_investment_data(chunk, product_type)
           â”‚    â”‚                       â”‚      â”” 'mutual_funds'
           â”‚    â”‚                       â”” 'RU\nKZ\nRU\nEN\n14 Ğ½Ğ¾ÑĞ±Ñ€Ñ 2025, 15:39\nĞ ÑƒÑÑĞºĞ¸Ğ¹\nÒšĞ°Ğ·Ğ°Ò›ÑˆĞ°\nĞ ÑƒÑÑĞºĞ¸Ğ¹\nEnglish\nĞ Ñ‹Ğ½ĞºĞ¸\nĞ˜Ğ½Ğ´ĞµĞºÑÑ‹\nĞ˜Ğ½Ğ²ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ¼\nĞ›Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³\nĞ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ°Ğ¼ Ñ‚...
           â”‚    â”” <function InvestmentAnalyzer.extract_investment_data at 0x7f45914a5760>
           â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>

  File "/app/investment_analyzer.py", line 108, in extract_investment_data
    prompt = f"""

ValueError: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
2025-11-14 10:40:32 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 40, 17, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=8, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=80, supergroup_chat_created=False, text='/compare'), update_id=751877397)
2025-11-14 10:40:32 | INFO     | bot:log_update:34 -   â””â”€ Message: /compare
2025-11-14 10:40:32 | INFO     | bot:compare_command:93 - ğŸ“ˆ compare_command called
2025-11-14 10:40:34 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_bonds', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585194553383925', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 40, 18, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=81, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='compare_deposits', text='ğŸ’³ Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹'), InlineKeyboardButton(callback_data='compare_bonds', text='ğŸ“œ ĞĞ±Ğ»Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸')), (InlineKeyboardButton(callback_data='compare_mutual_funds', text='ğŸ“Š ĞŸĞ˜Ğ¤Ñ‹'), InlineKeyboardButton(callback_data='compare_brokers', text='ğŸ¢ Ğ‘Ñ€Ğ¾ĞºĞµÑ€Ñ‹')))), supergroup_chat_created=False, text='ğŸ“Š Ğ¡Ğ ĞĞ’ĞĞ•ĞĞ˜Ğ• ĞŸĞ ĞĞ”Ğ£ĞšĞ¢ĞĞ’\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°:')), update_id=751877398)
2025-11-14 10:40:34 | INFO     | bot:log_update:36 -   â””â”€ Callback: compare_bonds
2025-11-14 10:40:34 | INFO     | bot:comparison_callback_handler:250 - Comparison callback: compare_bonds
2025-11-14 10:40:34 | INFO     | investment_analyzer:compare_products:409 - Comparing products: bonds
2025-11-14 10:40:34 | INFO     | investment_analyzer:scrape_investment_products:83 - Scraping investment products: bonds
2025-11-14 10:40:34 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/government-securities
2025-11-14 10:40:40 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/corporate-bonds
2025-11-14 10:40:44 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/investment-fund-securitieshttps://aix.kz/ru/debt-market
2025-11-14 10:40:46 | INFO     | investment_analyzer:scrape_investment_products:99 - âœ… Scraped 3 investment sources
2025-11-14 10:40:46 | ERROR    | bot:comparison_callback_handler:272 - Error comparing products: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
Traceback (most recent call last):

  File "/app/main.py", line 146, in <module>
    main()
    â”” <function main at 0x7f4596703100>

  File "/app/main.py", line 133, in main
    run_bot()
    â”” <function run_bot at 0x7f45914a67a0>

  File "/app/bot.py", line 571, in run_bot
    app.run_polling(allowed_updates=Update.ALL_TYPES)
    â”‚   â”‚                           â”‚      â”” [<UpdateType.MESSAGE>, <UpdateType.EDITED_MESSAGE>, <UpdateType.CHANNEL_POST>, <UpdateType.EDITED_CHANNEL_POST>, <UpdateType....
    â”‚   â”‚                           â”” <class 'telegram._update.Update'>
    â”‚   â”” <function Application.run_polling at 0x7f45918827a0>
    â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]

  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1000, in __run
    loop.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7f459686b6a0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7f45968714e0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7f4597247880>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1170, in _update_fetcher
    await self.__process_update_wrapper(update)
          â”‚                             â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_bonds', from_user=User(first_name='Ad...
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1182, in __process_update_wrapper
    await self._update_processor.process_update(update, self.process_update(update))
          â”‚    â”‚                                â”‚       â”‚    â”‚              â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_bonds', from_user=User(first_name='Ad...
          â”‚    â”‚                                â”‚       â”‚    â”” <function Application.process_update at 0x7f4591882d40>
          â”‚    â”‚                                â”‚       â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
          â”‚    â”‚                                â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_bonds', from_user=User(first_name='Ad...
          â”‚    â”” <member '_update_processor' of 'Application' objects>
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 151, in process_update
    await self.do_process_update(update, coroutine)
          â”‚    â”‚                 â”‚       â”” <coroutine object Application.process_update at 0x7f4591498cc0>
          â”‚    â”‚                 â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_bonds', from_user=User(first_name='Ad...
          â”‚    â”” <function SimpleUpdateProcessor.do_process_update at 0x7f45918a80e0>
          â”” <telegram.ext._baseupdateprocessor.SimpleUpdateProcessor object at 0x7f45914c9390>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 176, in do_process_update
    await coroutine
          â”” <coroutine object Application.process_update at 0x7f4591498cc0>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
          â”” <coroutine object BaseHandler.handle_update at 0x7f4590ca7e40>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
                 â”‚    â”‚        â”‚       â”” <telegram.ext._callbackcontext.CallbackContext object at 0x7f458bc36d60>
                 â”‚    â”‚        â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_bonds', from_user=User(first_name='Ad...
                 â”‚    â”” <member 'callback' of 'BaseHandler' objects>
                 â”” CallbackQueryHandler[callback=comparison_callback_handler]

> File "/app/bot.py", line 267, in comparison_callback_handler
    result = await asyncio.to_thread(investment_analyzer.compare_products, product_type)
                   â”‚       â”‚         â”‚                   â”‚                 â”” 'bonds'
                   â”‚       â”‚         â”‚                   â”” <function InvestmentAnalyzer.compare_products at 0x7f45914a5b20>
                   â”‚       â”‚         â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>
                   â”‚       â”” <function to_thread at 0x7f4596886c00>
                   â”” <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>

  File "/usr/local/lib/python3.11/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
                 â”‚    â”‚                     â”” functools.partial(<built-in method run of _contextvars.Context object at 0x7f458bc49040>, <bound method InvestmentAnalyzer.co...
                 â”‚    â”” <function BaseEventLoop.run_in_executor at 0x7f4596870040>
                 â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             â”‚        â”‚            â”” None
             â”‚        â”” None
             â”” None

  File "/app/investment_analyzer.py", line 420, in compare_products
    data = self.extract_investment_data(chunk, product_type)
           â”‚    â”‚                       â”‚      â”” 'bonds'
           â”‚    â”‚                       â”” 'RU\nKZ\nRU\nEN\n14 Ğ½Ğ¾ÑĞ±Ñ€Ñ 2025, 15:40\nĞ ÑƒÑÑĞºĞ¸Ğ¹\nÒšĞ°Ğ·Ğ°Ò›ÑˆĞ°\nĞ ÑƒÑÑĞºĞ¸Ğ¹\nEnglish\nĞ Ñ‹Ğ½ĞºĞ¸\nĞ˜Ğ½Ğ´ĞµĞºÑÑ‹\nĞ˜Ğ½Ğ²ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ¼\nĞ›Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³\nĞ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ°Ğ¼ Ñ‚...
           â”‚    â”” <function InvestmentAnalyzer.extract_investment_data at 0x7f45914a5760>
           â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>

  File "/app/investment_analyzer.py", line 108, in extract_investment_data
    prompt = f"""

ValueError: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
2025-11-14 10:40:50 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 40, 35, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=8, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=83, supergroup_chat_created=False, text='/compare'), update_id=751877399)
2025-11-14 10:40:50 | INFO     | bot:log_update:34 -   â””â”€ Message: /compare
2025-11-14 10:40:50 | INFO     | bot:compare_command:93 - ğŸ“ˆ compare_command called
2025-11-14 10:40:51 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_brokers', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585194709787758', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 40, 36, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=84, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='compare_deposits', text='ğŸ’³ Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹'), InlineKeyboardButton(callback_data='compare_bonds', text='ğŸ“œ ĞĞ±Ğ»Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸')), (InlineKeyboardButton(callback_data='compare_mutual_funds', text='ğŸ“Š ĞŸĞ˜Ğ¤Ñ‹'), InlineKeyboardButton(callback_data='compare_brokers', text='ğŸ¢ Ğ‘Ñ€Ğ¾ĞºĞµÑ€Ñ‹')))), supergroup_chat_created=False, text='ğŸ“Š Ğ¡Ğ ĞĞ’ĞĞ•ĞĞ˜Ğ• ĞŸĞ ĞĞ”Ğ£ĞšĞ¢ĞĞ’\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°:')), update_id=751877400)
2025-11-14 10:40:51 | INFO     | bot:log_update:36 -   â””â”€ Callback: compare_brokers
2025-11-14 10:40:51 | INFO     | bot:comparison_callback_handler:250 - Comparison callback: compare_brokers
2025-11-14 10:40:51 | INFO     | investment_analyzer:compare_products:409 - Comparing products: brokers
2025-11-14 10:40:51 | INFO     | investment_analyzer:scrape_investment_products:83 - Scraping investment products: brokers
2025-11-14 10:40:51 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/government-securities
2025-11-14 10:40:53 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/corporate-bonds
2025-11-14 10:40:55 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/investment-fund-securitieshttps://aix.kz/ru/debt-market
2025-11-14 10:40:57 | INFO     | scraper:scrape_many:70 - Scraping https://nationalbank.kz/en/news/vklady-v-bankah-v-regionalnom-razreze-
2025-11-14 10:40:58 | INFO     | scraper:scrape_many:70 - Scraping https://kdif.kz/
2025-11-14 10:41:00 | INFO     | scraper:scrape_many:70 - Scraping https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 10:41:05 | ERROR    | scraper:_make_request:27 - Failed https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical: 404 Client Error: Not Found for url: https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 10:41:06 | INFO     | scraper:scrape_many:70 - Scraping https://kase.kz/ru/markets/investment-fund-securities
2025-11-14 10:41:08 | INFO     | scraper:scrape_many:70 - Scraping https://halykfinance.kz/ipif/?lang=ru
2025-11-14 10:41:09 | INFO     | scraper:scrape_many:70 - Scraping https://www.bcc-invest.kz/products/open-pi/
2025-11-14 10:41:13 | ERROR    | scraper:_make_request:27 - Failed https://www.bcc-invest.kz/products/open-pi/: 404 Client Error: Page not found: /products/open-pi/ for url: https://www.bcc-invest.kz/products/open-pi/
2025-11-14 10:41:14 | INFO     | scraper:scrape_many:70 - Scraping https://ffin.kz/ru
2025-11-14 10:41:19 | INFO     | scraper:scrape_many:70 - Scraping https://halykfinance.kz/brokerskoe-obsluzhivanie/?lang=ru
2025-11-14 10:41:21 | INFO     | scraper:scrape_many:70 - Scraping https://www.interactivebrokers.com/ru/home.php
2025-11-14 10:41:23 | INFO     | scraper:scrape_many:70 - Scraping https://www.bcc-invest.kz/products/brokerage/
2025-11-14 10:41:27 | ERROR    | scraper:_make_request:27 - Failed https://www.bcc-invest.kz/products/brokerage/: 404 Client Error: Page not found: /products/brokerage/ for url: https://www.bcc-invest.kz/products/brokerage/
2025-11-14 10:41:28 | INFO     | investment_analyzer:scrape_investment_products:99 - âœ… Scraped 10 investment sources
2025-11-14 10:41:28 | ERROR    | bot:comparison_callback_handler:272 - Error comparing products: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
Traceback (most recent call last):

  File "/app/main.py", line 146, in <module>
    main()
    â”” <function main at 0x7f4596703100>

  File "/app/main.py", line 133, in main
    run_bot()
    â”” <function run_bot at 0x7f45914a67a0>

  File "/app/bot.py", line 571, in run_bot
    app.run_polling(allowed_updates=Update.ALL_TYPES)
    â”‚   â”‚                           â”‚      â”” [<UpdateType.MESSAGE>, <UpdateType.EDITED_MESSAGE>, <UpdateType.CHANNEL_POST>, <UpdateType.EDITED_CHANNEL_POST>, <UpdateType....
    â”‚   â”‚                           â”” <class 'telegram._update.Update'>
    â”‚   â”” <function Application.run_polling at 0x7f45918827a0>
    â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]

  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1000, in __run
    loop.run_forever()
    â”‚    â”” <function BaseEventLoop.run_forever at 0x7f459686b6a0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x7f45968714e0>
    â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x7f4597247880>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle Task.task_wakeup(<Future finis...ype \'str\'')>)>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1170, in _update_fetcher
    await self.__process_update_wrapper(update)
          â”‚                             â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_brokers', from_user=User(first_name='...
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1182, in __process_update_wrapper
    await self._update_processor.process_update(update, self.process_update(update))
          â”‚    â”‚                                â”‚       â”‚    â”‚              â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_brokers', from_user=User(first_name='...
          â”‚    â”‚                                â”‚       â”‚    â”” <function Application.process_update at 0x7f4591882d40>
          â”‚    â”‚                                â”‚       â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
          â”‚    â”‚                                â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_brokers', from_user=User(first_name='...
          â”‚    â”” <member '_update_processor' of 'Application' objects>
          â”” Application[bot=ExtBot[token=8348523778:AAE0eCpa1q4sAhyQr09EWZeT5sY8Cp2T3Gw]]
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 151, in process_update
    await self.do_process_update(update, coroutine)
          â”‚    â”‚                 â”‚       â”” <coroutine object Application.process_update at 0x7f4591498cc0>
          â”‚    â”‚                 â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_brokers', from_user=User(first_name='...
          â”‚    â”” <function SimpleUpdateProcessor.do_process_update at 0x7f45918a80e0>
          â”” <telegram.ext._baseupdateprocessor.SimpleUpdateProcessor object at 0x7f45914c9390>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_baseupdateprocessor.py", line 176, in do_process_update
    await coroutine
          â”” <coroutine object Application.process_update at 0x7f4591498cc0>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
          â”” <coroutine object BaseHandler.handle_update at 0x7f4590ca6040>
  File "/usr/local/lib/python3.11/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
                 â”‚    â”‚        â”‚       â”” <telegram.ext._callbackcontext.CallbackContext object at 0x7f458ae47c40>
                 â”‚    â”‚        â”” Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_brokers', from_user=User(first_name='...
                 â”‚    â”” <member 'callback' of 'BaseHandler' objects>
                 â”” CallbackQueryHandler[callback=comparison_callback_handler]

> File "/app/bot.py", line 267, in comparison_callback_handler
    result = await asyncio.to_thread(investment_analyzer.compare_products, product_type)
                   â”‚       â”‚         â”‚                   â”‚                 â”” 'brokers'
                   â”‚       â”‚         â”‚                   â”” <function InvestmentAnalyzer.compare_products at 0x7f45914a5b20>
                   â”‚       â”‚         â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>
                   â”‚       â”” <function to_thread at 0x7f4596886c00>
                   â”” <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>

  File "/usr/local/lib/python3.11/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
                 â”‚    â”‚                     â”” functools.partial(<built-in method run of _contextvars.Context object at 0x7f458b4df500>, <bound method InvestmentAnalyzer.co...
                 â”‚    â”” <function BaseEventLoop.run_in_executor at 0x7f4596870040>
                 â”” <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             â”‚        â”‚            â”” None
             â”‚        â”” None
             â”” None

  File "/app/investment_analyzer.py", line 420, in compare_products
    data = self.extract_investment_data(chunk, product_type)
           â”‚    â”‚                       â”‚      â”” 'brokers'
           â”‚    â”‚                       â”” 'RU\nKZ\nRU\nEN\n14 Ğ½Ğ¾ÑĞ±Ñ€Ñ 2025, 15:40\nĞ ÑƒÑÑĞºĞ¸Ğ¹\nÒšĞ°Ğ·Ğ°Ò›ÑˆĞ°\nĞ ÑƒÑÑĞºĞ¸Ğ¹\nEnglish\nĞ Ñ‹Ğ½ĞºĞ¸\nĞ˜Ğ½Ğ´ĞµĞºÑÑ‹\nĞ˜Ğ½Ğ²ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ¼\nĞ›Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³\nĞ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ°Ğ¼ Ñ‚...
           â”‚    â”” <function InvestmentAnalyzer.extract_investment_data at 0x7f45914a5760>
           â”” <investment_analyzer.InvestmentAnalyzer object at 0x7f45914c3410>

  File "/app/investment_analyzer.py", line 108, in extract_investment_data
    prompt = f"""

ValueError: Invalid format specifier ' string | null,
        "type": "bonds" | "deposits" | "mutual_funds" | "stocks" | string | null,
        "provider": string | null,
        "yield_rate": number | null,
        "currency": string | null,
        "term": string | null,
        "risk_level": string | null,
        "min_investment": number | null,
        "url": string | null,
        "additional_info": object | null
      ' for object of type 'str'
2025-11-14 10:41:37 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 41, 23, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=86, supergroup_chat_created=False, text='/global'), update_id=751877401)
2025-11-14 10:41:37 | INFO     | bot:log_update:34 -   â””â”€ Message: /global
2025-11-14 10:41:37 | INFO     | bot:global_command:114 - ğŸŒ global_command called
2025-11-14 10:41:37 | INFO     | investment_analyzer:get_international_outlook:461 - Analyzing international markets
2025-11-14 10:41:37 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/rates-bonds/world-government-bonds
2025-11-14 10:41:43 | INFO     | scraper:scrape_many:70 - Scraping https://finance.yahoo.com/bonds
2025-11-14 10:41:46 | INFO     | scraper:scrape_many:70 - Scraping https://www.bloomberg.com/markets/rates-bonds
2025-11-14 10:41:50 | ERROR    | scraper:_make_request:27 - Failed https://www.bloomberg.com/markets/rates-bonds: 403 Client Error: Forbidden for url: https://www.bloomberg.com/markets/rates-bonds
2025-11-14 10:41:51 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/commodities/gold
2025-11-14 10:41:54 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/currencies/usd-kzt
2025-11-14 10:43:04 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 42, 49, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=89, supergroup_chat_created=False, text='/start'), update_id=751877402)
2025-11-14 10:43:04 | INFO     | bot:log_update:34 -   â””â”€ Message: /start
2025-11-14 10:43:04 | INFO     | bot:start:40 - ğŸ¬ start command called
2025-11-14 10:54:14 | INFO     | __main__:main:57 - ======================================================================
2025-11-14 10:54:14 | INFO     | __main__:main:58 - ğŸ¤– Ğ¤Ğ˜ĞĞĞĞ¡ĞĞ’Ğ«Ğ™ Ğ”ĞĞ™Ğ”Ğ–Ğ•Ğ¡Ğ¢-Ğ‘ĞĞ¢
2025-11-14 10:54:14 | INFO     | __main__:main:59 - ======================================================================
2025-11-14 10:54:14 | INFO     | __main__:main:60 - 
2025-11-14 10:54:14 | INFO     | __main__:main:63 - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸...
2025-11-14 10:54:14 | SUCCESS  | __main__:main:68 - âœ“ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ°
2025-11-14 10:54:14 | INFO     | __main__:main:69 - 
2025-11-14 10:54:14 | INFO     | __main__:main:72 - ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:
2025-11-14 10:54:14 | INFO     | __main__:main:73 -   Timezone: Asia/Almaty
2025-11-14 10:54:14 | INFO     | __main__:main:74 -   Ğ’Ñ€ĞµĞ¼Ñ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸: 09:00
2025-11-14 10:54:14 | INFO     | __main__:main:75 -   Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹: 4
2025-11-14 10:54:14 | INFO     | __main__:main:76 -   Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ²Ğ°Ğ»ÑÑ‚: 16
2025-11-14 10:54:14 | INFO     | __main__:main:77 -   ĞĞ´Ğ¼Ğ¸Ğ½Ğ¾Ğ²: 1
2025-11-14 10:54:14 | INFO     | __main__:main:78 -   Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: db:5432/finbot_db
2025-11-14 10:54:14 | INFO     | __main__:main:79 -   OpenAI Model: gpt-4o
2025-11-14 10:54:14 | INFO     | __main__:main:80 - 
2025-11-14 10:54:14 | INFO     | __main__:main:83 - Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…...
2025-11-14 10:54:16 | INFO     | database:init_db:191 - Connecting to database: db:5432/finbot_db
2025-11-14 10:54:16 | SUCCESS  | database:init_db:203 - âœ… Database tables created/verified
2025-11-14 10:54:16 | SUCCESS  | database:init_db:213 - âœ… Database connection verified
2025-11-14 10:54:16 | SUCCESS  | __main__:main:92 - âœ“ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° (Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹: 0)
2025-11-14 10:54:16 | INFO     | __main__:main:100 - 
2025-11-14 10:54:16 | INFO     | __main__:main:103 - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° OpenAI API...
2025-11-14 10:54:19 | SUCCESS  | __main__:main:116 - âœ“ OpenAI API Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
2025-11-14 10:54:19 | INFO     | __main__:main:124 - 
2025-11-14 10:54:19 | INFO     | __main__:main:125 - ======================================================================
2025-11-14 10:54:19 | INFO     | __main__:main:126 - ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Telegram Ğ±Ğ¾Ñ‚Ğ°...
2025-11-14 10:54:19 | INFO     | __main__:main:127 - ======================================================================
2025-11-14 10:54:19 | INFO     | __main__:main:128 - 
2025-11-14 10:54:20 | INFO     | bot:run_bot:503 - ======================================================================
2025-11-14 10:54:20 | INFO     | bot:run_bot:504 - ğŸ¤– STARTING FINANCIAL DIGEST BOT
2025-11-14 10:54:20 | INFO     | bot:run_bot:505 - ======================================================================
2025-11-14 10:54:20 | INFO     | bot:run_bot:507 - Step 1: Initializing database...
2025-11-14 10:54:20 | INFO     | database:init_db:191 - Connecting to database: db:5432/finbot_db
2025-11-14 10:54:20 | SUCCESS  | database:init_db:203 - âœ… Database tables created/verified
2025-11-14 10:54:20 | SUCCESS  | database:init_db:213 - âœ… Database connection verified
2025-11-14 10:54:20 | INFO     | bot:run_bot:509 - âœ… Database initialized
2025-11-14 10:54:20 | INFO     | bot:run_bot:511 - Step 2: Building application...
2025-11-14 10:54:20 | INFO     | bot:run_bot:513 - âœ… Application built
2025-11-14 10:54:20 | INFO     | bot:run_bot:516 - Step 3: Registering error handler...
2025-11-14 10:54:20 | INFO     | bot:run_bot:520 - Step 4: Adding update logger...
2025-11-14 10:54:20 | INFO     | bot:run_bot:525 - Step 5: Registering command handlers...
2025-11-14 10:54:20 | INFO     | bot:run_bot:533 -   âœ… Registered 7 command handlers
2025-11-14 10:54:20 | INFO     | bot:run_bot:536 - Step 6: Registering callback handlers...
2025-11-14 10:54:20 | INFO     | bot:run_bot:541 -   âœ… Registered specialized callback handlers
2025-11-14 10:54:20 | INFO     | bot:run_bot:545 -   âœ… Registered catch-all callback handler
2025-11-14 10:54:20 | INFO     | bot:run_bot:548 - Step 7: Registering message handler...
2025-11-14 10:54:20 | INFO     | bot:run_bot:550 -   âœ… Registered chat handler
2025-11-14 10:54:20 | INFO     | bot:run_bot:553 - Step 8: Setting up job queue...
2025-11-14 10:54:20 | INFO     | bot:run_bot:559 -   âœ… Job scheduled for 09:00 Asia/Almaty
2025-11-14 10:54:20 | INFO     | bot:run_bot:562 - Step 9: Setting bot commands...
2025-11-14 10:54:20 | INFO     | bot:set_bot_commands:437 - Setting bot commands...
2025-11-14 10:54:20 | INFO     | bot:set_bot_commands:448 - âœ… Bot commands set
2025-11-14 10:54:20 | INFO     | bot:run_bot:566 - ======================================================================
2025-11-14 10:54:20 | INFO     | bot:run_bot:567 - ğŸš€ Bot started (polling)...
2025-11-14 10:54:20 | INFO     | bot:run_bot:568 - Waiting for updates from Telegram...
2025-11-14 10:54:20 | INFO     | bot:run_bot:569 - ======================================================================
2025-11-14 10:56:18 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 56, 4, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=91, supergroup_chat_created=False, text='/start'), update_id=751877403)
2025-11-14 10:56:18 | INFO     | bot:log_update:34 -   â””â”€ Message: /start
2025-11-14 10:56:18 | INFO     | bot:start:40 - ğŸ¬ start command called
2025-11-14 10:56:21 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 56, 7, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=8, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), group_chat_created=False, message_id=93, supergroup_chat_created=False, text='/compare'), update_id=751877404)
2025-11-14 10:56:21 | INFO     | bot:log_update:34 -   â””â”€ Message: /compare
2025-11-14 10:56:21 | INFO     | bot:compare_command:93 - ğŸ“ˆ compare_command called
2025-11-14 10:56:22 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='-3978599358856188101', data='compare_deposits', from_user=User(first_name='Adizhan', id=560792441, is_bot=False, language_code='ru', username='kere1shn'), id='2408585194246238445', message=Message(channel_chat_created=False, chat=Chat(first_name='Adizhan', id=560792441, type=<ChatType.PRIVATE>, username='kere1shn'), date=datetime.datetime(2025, 11, 14, 10, 56, 7, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=94, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='compare_deposits', text='ğŸ’³ Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹'), InlineKeyboardButton(callback_data='compare_bonds', text='ğŸ“œ ĞĞ±Ğ»Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸')), (InlineKeyboardButton(callback_data='compare_mutual_funds', text='ğŸ“Š ĞŸĞ˜Ğ¤Ñ‹'), InlineKeyboardButton(callback_data='compare_brokers', text='ğŸ¢ Ğ‘Ñ€Ğ¾ĞºĞµÑ€Ñ‹')))), supergroup_chat_created=False, text='ğŸ“Š Ğ¡Ğ ĞĞ’ĞĞ•ĞĞ˜Ğ• ĞŸĞ ĞĞ”Ğ£ĞšĞ¢ĞĞ’\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°:')), update_id=751877405)
2025-11-14 10:56:22 | INFO     | bot:log_update:36 -   â””â”€ Callback: compare_deposits
2025-11-14 10:56:22 | INFO     | bot:comparison_callback_handler:250 - Comparison callback: compare_deposits
2025-11-14 10:56:22 | INFO     | investment_analyzer:compare_products:417 - Comparing products: deposits
2025-11-14 10:56:22 | INFO     | investment_analyzer:scrape_investment_products:83 - Scraping investment products: deposits
2025-11-14 10:56:22 | INFO     | scraper:scrape_many:70 - Scraping https://nationalbank.kz/en/news/vklady-v-bankah-v-regionalnom-razreze-
2025-11-14 10:56:24 | INFO     | scraper:scrape_many:70 - Scraping https://kdif.kz/
2025-11-14 10:56:26 | INFO     | scraper:scrape_many:70 - Scraping https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 10:56:31 | ERROR    | scraper:_make_request:27 - Failed https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical: 404 Client Error: Not Found for url: https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 10:56:32 | INFO     | investment_analyzer:scrape_investment_products:99 - âœ… Scraped 2 investment sources
2025-11-14 11:16:25 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 11, 16, 11, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), group_chat_created=False, message_id=96, supergroup_chat_created=False, text='/start'), update_id=751877406)
2025-11-14 11:16:25 | INFO     | bot:log_update:34 -   â””â”€ Message: /start
2025-11-14 11:16:25 | INFO     | bot:start:40 - ğŸ¬ start command called
2025-11-14 12:00:44 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 0, 29, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), group_chat_created=False, message_id=98, supergroup_chat_created=False, text='/digest'), update_id=751877407)
2025-11-14 12:00:44 | INFO     | bot:log_update:34 -   â””â”€ Message: /digest
2025-11-14 12:00:44 | INFO     | bot:digest_command:53 - ğŸ“Š digest_command called
2025-11-14 12:00:45 | INFO     | bot:digest_command:67 - âœ… Keyboard sent, message_id: 99
2025-11-14 12:01:13 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='6141100973136241154', data='digest_commodities', from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), id='4090989371970403827', message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 0, 31, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=99, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='digest_macro', text='ğŸ’° ĞœĞ°ĞºÑ€Ğ¾ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°'), InlineKeyboardButton(callback_data='digest_forex', text='ğŸ’¹ Ğ’Ğ°Ğ»ÑÑ‚Ñ‹')), (InlineKeyboardButton(callback_data='digest_commodities', text='ğŸ›¢ ĞĞµÑ„Ñ‚ÑŒ Ğ¸ ÑÑ‹Ñ€ÑŒÑ‘'), InlineKeyboardButton(callback_data='digest_banks', text='ğŸ¦ Ğ‘Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğ¹ ÑĞµĞºÑ‚Ğ¾Ñ€')), (InlineKeyboardButton(callback_data='digest_all', text='ğŸ“Š Ğ’ÑĞµ Ñ‚ĞµĞ¼Ñ‹'),))), supergroup_chat_created=False, text='Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ´Ğ°Ğ¹Ğ´Ğ¶ĞµÑÑ‚Ğ°:')), update_id=751877408)
2025-11-14 12:01:13 | INFO     | bot:log_update:36 -   â””â”€ Callback: digest_commodities
2025-11-14 12:01:13 | INFO     | bot:digest_category_selected:130 - ğŸ¯ digest_category_selected TRIGGERED!
2025-11-14 12:01:13 | INFO     | bot:digest_category_selected:133 -   â””â”€ Callback data: digest_commodities
2025-11-14 12:01:13 | INFO     | bot:digest_category_selected:134 -   â””â”€ User: 952507688 (@Saaanzhiiik)
2025-11-14 12:01:13 | INFO     | bot:digest_category_selected:137 -   â””â”€ Query answered
2025-11-14 12:01:13 | INFO     | bot:digest_category_selected:141 -   â””â”€ Processing category: commodities
2025-11-14 12:01:14 | INFO     | bot:digest_category_selected:145 -   â””â”€ Status message sent
2025-11-14 12:01:14 | INFO     | bot:digest_category_selected:149 -   â””â”€ Starting digest generation for: commodities
2025-11-14 12:01:14 | INFO     | bot:generate_digest:323 - ğŸ”§ generate_digest called with category: commodities
2025-11-14 12:01:14 | INFO     | bot:generate_digest:380 - Generating digest for category: commodities, URLs: 4
2025-11-14 12:01:14 | INFO     | scraper:scrape_many:70 - Scraping https://www.inform.kz/tag/neft_t7366
2025-11-14 12:01:15 | INFO     | scraper:scrape_many:70 - Scraping https://newsline.kz/ru/section/628/
2025-11-14 12:01:17 | INFO     | scraper:scrape_many:70 - Scraping https://tengrinews.kz/ru/tag/%D0%BD%D0%B5%D1%84%D1%82%D1%8C/
2025-11-14 12:01:18 | INFO     | scraper:scrape_many:70 - Scraping https://www.kt.kz/rus/archive_tags/%D0%9D%D0%B5%D1%84%D1%82%D1%8C
2025-11-14 12:01:20 | INFO     | bot:generate_digest:384 - âœ… Scraped 4 articles
2025-11-14 12:02:11 | INFO     | bot:generate_digest:398 - âœ… Generated 10 summaries
2025-11-14 12:02:11 | INFO     | llm:aggregate_summaries:116 - Aggregating summaries for category: commodities
2025-11-14 12:02:21 | INFO     | bot:generate_digest:405 - âœ… aggregate done
2025-11-14 12:02:21 | INFO     | bot:digest_category_selected:151 -   â””â”€ Digest generated, length: 2137
2025-11-14 12:02:21 | INFO     | bot:digest_category_selected:158 -   â””â”€ Sent 1 message chunks
2025-11-14 12:02:51 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 2, 36, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), group_chat_created=False, message_id=101, supergroup_chat_created=False, text='/digest'), update_id=751877409)
2025-11-14 12:02:51 | INFO     | bot:log_update:34 -   â””â”€ Message: /digest
2025-11-14 12:02:51 | INFO     | bot:digest_command:53 - ğŸ“Š digest_command called
2025-11-14 12:02:51 | INFO     | bot:digest_command:67 - âœ… Keyboard sent, message_id: 102
2025-11-14 12:02:55 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 2, 40, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), group_chat_created=False, message_id=103, supergroup_chat_created=False, text='/invest'), update_id=751877410)
2025-11-14 12:02:55 | INFO     | bot:log_update:34 -   â””â”€ Message: /invest
2025-11-14 12:02:55 | INFO     | bot:invest_command:72 - ğŸ’° invest_command called
2025-11-14 12:03:04 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='6141100973136241154', data='invest_global', from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), id='4090989371425153922', message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 2, 41, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=104, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='invest_full', text='ğŸ¯ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·'), InlineKeyboardButton(callback_data='invest_compare', text='ğŸ“Š Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹')), (InlineKeyboardButton(callback_data='invest_global', text='ğŸŒ ĞœĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ€Ñ‹Ğ½ĞºĞ¸'), InlineKeyboardButton(callback_data='invest_profile', text='âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ')))), supergroup_chat_created=False, text='ğŸ’¼ Ğ˜ĞĞ’Ğ•Ğ¡Ğ¢Ğ˜Ğ¦Ğ˜ĞĞĞĞ«Ğ™ ĞĞĞĞ›Ğ˜Ğ—\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ñ:')), update_id=751877411)
2025-11-14 12:03:04 | INFO     | bot:log_update:36 -   â””â”€ Callback: invest_global
2025-11-14 12:03:04 | INFO     | bot:investment_callback_handler:170 - Investment callback: invest_global
2025-11-14 12:03:04 | INFO     | investment_analyzer:get_international_outlook:469 - Analyzing international markets
2025-11-14 12:03:04 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/rates-bonds/world-government-bonds
2025-11-14 12:03:10 | INFO     | scraper:scrape_many:70 - Scraping https://finance.yahoo.com/bonds
2025-11-14 12:03:13 | INFO     | scraper:scrape_many:70 - Scraping https://www.bloomberg.com/markets/rates-bonds
2025-11-14 12:03:18 | ERROR    | scraper:_make_request:27 - Failed https://www.bloomberg.com/markets/rates-bonds: 403 Client Error: Forbidden for url: https://www.bloomberg.com/markets/rates-bonds
2025-11-14 12:03:19 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/commodities/gold
2025-11-14 12:03:22 | INFO     | scraper:scrape_many:70 - Scraping https://www.investing.com/currencies/usd-kzt
2025-11-14 12:08:29 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 8, 14, tzinfo=<UTC>), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), group_chat_created=False, message_id=107, supergroup_chat_created=False, text='/invest'), update_id=751877412)
2025-11-14 12:08:29 | INFO     | bot:log_update:34 -   â””â”€ Message: /invest
2025-11-14 12:08:29 | INFO     | bot:invest_command:72 - ğŸ’° invest_command called
2025-11-14 12:08:30 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='6141100973136241154', data='invest_compare', from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), id='4090989372598188144', message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 8, 15, tzinfo=<UTC>), delete_chat_photo=False, from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=108, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='invest_full', text='ğŸ¯ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·'), InlineKeyboardButton(callback_data='invest_compare', text='ğŸ“Š Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹')), (InlineKeyboardButton(callback_data='invest_global', text='ğŸŒ ĞœĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ€Ñ‹Ğ½ĞºĞ¸'), InlineKeyboardButton(callback_data='invest_profile', text='âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ')))), supergroup_chat_created=False, text='ğŸ’¼ Ğ˜ĞĞ’Ğ•Ğ¡Ğ¢Ğ˜Ğ¦Ğ˜ĞĞĞĞ«Ğ™ ĞĞĞĞ›Ğ˜Ğ—\n\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ñ:')), update_id=751877413)
2025-11-14 12:08:30 | INFO     | bot:log_update:36 -   â””â”€ Callback: invest_compare
2025-11-14 12:08:31 | INFO     | bot:investment_callback_handler:170 - Investment callback: invest_compare
2025-11-14 12:08:33 | INFO     | bot:log_update:32 - ğŸ“¨ RECEIVED UPDATE: Update(callback_query=CallbackQuery(chat_instance='6141100973136241154', data='compare_deposits', from_user=User(first_name='Sanzhik', id=952507688, is_bot=False, language_code='ru', username='Saaanzhiiik'), id='4090989373010734168', message=Message(channel_chat_created=False, chat=Chat(first_name='Sanzhik', id=952507688, type=<ChatType.PRIVATE>, username='Saaanzhiiik'), date=datetime.datetime(2025, 11, 14, 12, 8, 15, tzinfo=<UTC>), delete_chat_photo=False, edit_date=datetime.datetime(2025, 11, 14, 12, 8, 17, tzinfo=<UTC>), from_user=User(first_name='ForteInvest', id=8348523778, is_bot=True, username='forteinvestbot'), group_chat_created=False, message_id=108, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='compare_deposits', text='ğŸ’³ Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹'), InlineKeyboardButton(callback_data='compare_bonds', text='ğŸ“œ ĞĞ±Ğ»Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸')), (InlineKeyboardButton(callback_data='compare_mutual_funds', text='ğŸ“Š ĞŸĞ˜Ğ¤Ñ‹'), InlineKeyboardButton(callback_data='compare_brokers', text='ğŸ¢ Ğ‘Ñ€Ğ¾ĞºĞµÑ€Ñ‹')))), supergroup_chat_created=False, text='Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ° Ğ´Ğ»Ñ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ:')), update_id=751877414)
2025-11-14 12:08:33 | INFO     | bot:log_update:36 -   â””â”€ Callback: compare_deposits
2025-11-14 12:08:33 | INFO     | bot:comparison_callback_handler:250 - Comparison callback: compare_deposits
2025-11-14 12:08:33 | INFO     | investment_analyzer:compare_products:417 - Comparing products: deposits
2025-11-14 12:08:33 | INFO     | investment_analyzer:scrape_investment_products:83 - Scraping investment products: deposits
2025-11-14 12:08:33 | INFO     | scraper:scrape_many:70 - Scraping https://nationalbank.kz/en/news/vklady-v-bankah-v-regionalnom-razreze-
2025-11-14 12:08:35 | INFO     | scraper:scrape_many:70 - Scraping https://kdif.kz/
2025-11-14 12:08:37 | INFO     | scraper:scrape_many:70 - Scraping https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 12:08:43 | ERROR    | scraper:_make_request:27 - Failed https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical: 404 Client Error: Not Found for url: https://halykbank.kz/deposits-ruhttps://www.bcc.kz/personal/deposits/https://bank.forte.kz/ru/depositshttps://berekebank.kz/ru/personal/depositshttps://jusan.kz/ru/depositshttps://bankrbk.kz/ru/individuals/depositshttps://bankffin.kz/ru/deposits/physical
2025-11-14 12:08:44 | INFO     | investment_analyzer:scrape_investment_products:99 - âœ… Scraped 2 investment sources
